#+AUTHOR: Wasym A. Alonso
#+TITLE: iWas's GNU Emacs Config

* Package Management
** Adding MELPA repository
#+begin_src emacs-lisp
  (require 'package)
  (add-to-list 'package-archives
	       '("melpa" . "https://melpa.org/packages/"))
  (package-refresh-contents)
  (package-initialize)
#+end_src

** Installing `use-package`
#+begin_src emacs-lisp
    (unless (package-installed-p 'use-package)
      (package-install 'use-package))
#+end_src

* Dashboard
** Installing dependencies
Project interaction library for Emacs.
#+begin_src emacs-lisp
  (use-package projectile
    :ensure t
    :config
    (projectile-global-mode 1))
#+end_src
A library for Nerd Font icons.
#+begin_src emacs-lisp
  (use-package nerd-icons)
#+end_src

** Opening the dashboard
#+begin_src emacs-lisp
  (use-package dashboard
    :ensure t
    :init
    (setq dashboard-set-heading-icons t)
    (setq dashboard-set-file-icons t)
    (setq dashboard-banner-logo-title "GNU Emacs")
    (setq dashboard-startup-banner "/home/iwas/.emacs.d/logo.png")
    (setq dashboard-center-content t)
    (setq dashboard-items '((recents . 10)
			    (agenda . 5)
			    (bookmarks . 5)
			    (projects . 5)
			    (registers . 5)))
    (global-display-line-numbers-mode 0)
    :config
    (dashboard-setup-startup-hook))
#+end_src
Setting the dashboard as the default buffer.
#+begin_src emacs-lisp
  (setq initial-buffer-choice (lambda () (get-buffer "*dashboard*")))
#+end_src

* Theme
#+begin_src emacs-lisp
  (use-package doom-themes
    :ensure t)
  (setq doom-themes-enable-bold t
	doom-themes-enable-italic t)
  (load-theme 'doom-one t)

  (use-package doom-modeline
    :ensure t)
  (doom-modeline-mode 1)
#+end_src

* Fonts
#+begin_src emacs-lisp
  (set-face-attribute 'default nil
    :font "JetbrainsMono Nerd Font 14"
    :weight 'medium)
  (set-face-attribute 'variable-pitch nil
    :font "JetbrainsMono Nerd Font 14"
    :weight 'medium)
  (set-face-attribute 'fixed-pitch nil
    :font "JetbrainsMono Nerd Font 14"
    :weight 'medium)
  (add-to-list 'default-frame-alist '(font . "JetbrainsMono Nerd Font 14"))
#+end_src

* GUI Settings
#+begin_src emacs-lisp
  (menu-bar-mode -1)
  (tool-bar-mode -1)
  (scroll-bar-mode -1)
  (global-display-line-numbers-mode 1)
  (global-visual-line-mode t)
  (setq ring-bell-function 'ignore)
  (setq mouse-wheel-progressive-speed nil)
#+end_src

* Which Key
#+begin_src emacs-lisp
  (use-package which-key
    :ensure t)
  (which-key-mode)
#+end_src

* Ivy + Counsel
Installing Counsel.
#+begin_src emacs-lisp
  (use-package counsel
    :after ivy
    :ensure t
    :diminish
    :config (counsel-mode))
#+end_src
Installing Ivy.
#+begin_src emacs-lisp
  (use-package ivy
    :bind
    (("C-c C-r" . ivy-resume)
     ("C-x B" . ivy-switch-buffer-other-window))
    :diminish
    :custom
    (setq ivy-use-virtual-buffers t)
    (setq ivy-count-format "(%d/%d) ")
    (setq enable-recursive-minibuffers t)
    :config
    (ivy-mode))
#+end_src
Enable pretty icons for Ivy.
#+begin_src emacs-lisp
  (use-package all-the-icons-ivy-rich
    :ensure t
    :init (all-the-icons-ivy-rich-mode 1))
#+end_src
Enable rich mode for Ivy.
#+begin_src emacs-lisp
  (use-package ivy-rich
    :after ivy
    :ensure t
    :init (ivy-rich-mode 1)
    :custom
    (ivy-virtual-abbreviate 'full
     ivy-rich-switch-buffer-align-virtual-buffer t
     ivy-rich-path-style 'abbrev)
    :config
    (ivy-set-display-transformer 'ivy-switch-buffer
				 'ivy-rich-switch-buffer-transformer))
#+end_src

* App Launcher
#+begin_src emacs-lisp
    (defun emacs-counsel-launcher ()
      (interactive)
      (with-selected-frame
	  (make-frame '((name . "emacs-run-launcher")
			(minibuffer . only)
			(fullscreen 0)
			(undecorated . t)
			(auto-raise . t)
			(internal-border-width . 10)
			(width . 80)
			(height . 11)))
	  (unwind-protect
	      (counsel-linux-app)
	      (delete-frame))))
#+end_src
